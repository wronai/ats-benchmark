services:
  code2logic-bench:
    build:
      context: .
      dockerfile: benchmarks/code2logic/Dockerfile
    env_file: .env
    volumes:
      - ./benchmarks/code2logic:/workspace/benchmarks/code2logic
      - ../code2logic:/src/code2logic:ro
      - ${TARGET_PROJECT:-.}:/project:ro
    working_dir: /workspace

  nfo-bench:
    build:
      context: .
      dockerfile: benchmarks/nfo/Dockerfile
    env_file: .env
    volumes:
      - ./benchmarks/nfo:/workspace/benchmarks/nfo
      - ../nfo:/src/nfo:ro
      - ${TARGET_PROJECT:-.}:/project:ro
    working_dir: /workspace

  baseline-bench:
    build:
      context: .
      dockerfile: benchmarks/baseline/Dockerfile
    env_file: .env
    volumes:
      - ./benchmarks/baseline:/workspace/benchmarks/baseline
      - ${TARGET_PROJECT:-.}:/project:ro
    working_dir: /workspace

  repair-bench:
    build:
      context: .
      dockerfile: benchmarks/repair/Dockerfile
    env_file: .env
    volumes:
      - ./benchmarks/repair:/workspace/benchmarks/repair
      - ../code2logic:/src/code2logic:ro
      - ../nfo:/src/nfo:ro
      - ${TARGET_PROJECT:-.}:/project:ro
    working_dir: /workspace

  callgraph-bench:
    build:
      context: .
      dockerfile: benchmarks/callgraph/Dockerfile
    env_file: .env
    volumes:
      - ./benchmarks/callgraph:/workspace/benchmarks/callgraph
      - ${TARGET_PROJECT:-.}:/project:ro
    working_dir: /workspace

  treesitter-bench:
    build:
      context: .
      dockerfile: benchmarks/treesitter/Dockerfile
    env_file: .env
    volumes:
      - ./benchmarks/treesitter:/workspace/benchmarks/treesitter
      - ${TARGET_PROJECT:-.}:/project:ro
    working_dir: /workspace

  astgrep-bench:
    build:
      context: .
      dockerfile: benchmarks/astgrep/Dockerfile
    env_file: .env
    volumes:
      - ./benchmarks/astgrep:/workspace/benchmarks/astgrep
      - ${TARGET_PROJECT:-.}:/project:ro
    working_dir: /workspace

  radon-bench:
    build:
      context: .
      dockerfile: benchmarks/radon/Dockerfile
    env_file: .env
    volumes:
      - ./benchmarks/radon:/workspace/benchmarks/radon
      - ${TARGET_PROJECT:-.}:/project:ro
    working_dir: /workspace

  bandit-bench:
    build:
      context: .
      dockerfile: benchmarks/bandit/Dockerfile
    env_file: .env
    volumes:
      - ./benchmarks/bandit:/workspace/benchmarks/bandit
      - ${TARGET_PROJECT:-.}:/project:ro
    working_dir: /workspace
