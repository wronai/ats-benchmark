services:
  code2logic-bench:
    build:
      context: .
      dockerfile: benchmarks/code2logic/Dockerfile
    env_file: .env
    volumes:
      - ./benchmarks:/workspace/benchmarks
      - ../code2logic:/src/code2logic
      - ${TARGET_PROJECT:-.}:/project:ro
    working_dir: /workspace

  nfo-bench:
    build:
      context: .
      dockerfile: benchmarks/nfo/Dockerfile
    env_file: .env
    volumes:
      - ./benchmarks:/workspace/benchmarks
      - ../nfo:/src/nfo
      - ${TARGET_PROJECT:-.}:/project:ro
    working_dir: /workspace

  baseline-bench:
    build:
      context: .
      dockerfile: benchmarks/baseline/Dockerfile
    env_file: .env
    volumes:
      - ./benchmarks:/workspace/benchmarks
      - ./check_llm.py:/workspace/check_llm.py:ro
      - ${TARGET_PROJECT:-.}:/project:ro
    working_dir: /workspace

  repair-bench:
    build:
      context: .
      dockerfile: benchmarks/repair/Dockerfile
    env_file: .env
    volumes:
      - ./benchmarks:/workspace/benchmarks
      - ../code2logic:/src/code2logic
      - ../nfo:/src/nfo
      - ${TARGET_PROJECT:-.}:/project:ro
    working_dir: /workspace

  callgraph-bench:
    build:
      context: .
      dockerfile: benchmarks/callgraph/Dockerfile
    env_file: .env
    volumes:
      - ./benchmarks:/workspace/benchmarks
      - ${TARGET_PROJECT:-.}:/project:ro
    working_dir: /workspace

  treesitter-bench:
    build:
      context: .
      dockerfile: benchmarks/treesitter/Dockerfile
    env_file: .env
    volumes:
      - ./benchmarks:/workspace/benchmarks
      - ${TARGET_PROJECT:-.}:/project:ro
    working_dir: /workspace

  astgrep-bench:
    build:
      context: .
      dockerfile: benchmarks/astgrep/Dockerfile
    env_file: .env
    volumes:
      - ./benchmarks:/workspace/benchmarks
      - ${TARGET_PROJECT:-.}:/project:ro
    working_dir: /workspace

  radon-bench:
    build:
      context: .
      dockerfile: benchmarks/radon/Dockerfile
    env_file: .env
    volumes:
      - ./benchmarks:/workspace/benchmarks
      - ${TARGET_PROJECT:-.}:/project:ro
    working_dir: /workspace

  bandit-bench:
    build:
      context: .
      dockerfile: benchmarks/bandit/Dockerfile
    env_file: .env
    volumes:
      - ./benchmarks:/workspace/benchmarks
      - ${TARGET_PROJECT:-.}:/project:ro
    working_dir: /workspace
